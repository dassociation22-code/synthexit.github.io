name: âš¡ SYNTHEXIT ULTRON-SNAKE â€” Unified Operations + SLSA3 Provenance

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

# THE IT IN I.T. â€” Precision. Intent. Timing. Integration.

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

# Combines:

# â€¢ Intelligent payload routing (Issues/Comments/Timeline)

# â€¢ SLSA Level 3 provenance generation

# â€¢ Security gates (token/SSN redaction)

# â€¢ Multi-artifact build pipeline

# â€¢ Automated evidence archival

# â€¢ Snake-style silent execution with Ultron reliability

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

on:

# External trigger via Make.com or API

repository_dispatch:
    types: [synthexit_ops, ultron_dispatch, snake_mode]

  # Manual trigger with JSON payload
  workflow_dispatch:
    inputs:
      payload:
        description: "JSON payload for SYNTHEXIT OPS"
        required: true
        type: string
        type: string
      mode:
        description: "Execution mode: standard, stealth, ultron"
        required: false
payload:
description: â€œJSON payload for SYNTHEXIT OPSâ€
required: true
type: string
mode:
description: â€œExecution mode: standard, stealth, ultronâ€
required: false
default: â€œstandardâ€
type: choice
options:
- standard
- stealth
- ultron

# Auto-provenance on Release

release:
types: [created, published]

# Evidence processing trigger

issues:
types: [opened, labeled, edited]

# Commit monitoring

push:
branches: [main, develop, evidence/**]

permissions: {}

# Permissions set per-job for least privilege principle

jobs:

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

# JOB 1: SECURITY GATE â€” Pre-flight security checks

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

security-gate:
name: ğŸ›¡ï¸ Security Gate
runs-on: ubuntu-latest
permissions:
contents: read
outputs:
cleared: ${{ steps.scan.outputs.cleared }}
sanitized_payload: ${{ steps.scan.outputs.sanitized }}
steps:
- name: Initialize Security Scan
id: scan
run: |
echo â€œğŸ” SECURITY GATE ACTIVATEDâ€
echo â€œMode: ${GITHUB_EVENT_NAME}â€
echo â€œcleared=trueâ€ >> $GITHUB_OUTPUT

```
  - name: Payload Security Scan
    uses: actions/github-script@v7
    with:
      script: |
        // â”€â”€ SECURITY PATTERNS â”€â”€
        const dangerPatterns = {
          tokens: /gh[ps]_[A-Za-z0-9]{36,}|github_pat_[A-Za-z0-9_-]{82}/gi,
          ssn: /\b\d{3}-\d{2}-\d{4}\b/g,
          credentials: /(?:password|api[_-]?key|secret)[:\s]*['"]?[^\s'"]+/gi,
          injection: /<script|javascript:|onerror=|onclick=/gi
        };

        let payload = '';
        if (context.payload.client_payload) {
          payload = JSON.stringify(context.payload.client_payload);
        } else if (context.payload.inputs?.payload) {
          payload = context.payload.inputs.payload;
        }

        let violations = [];
        for (const [type, pattern] of Object.entries(dangerPatterns)) {
          const matches = payload.match(pattern);
          if (matches) {
            violations.push(`${type}: ${matches.length} instance(s)`);
            payload = payload.replace(pattern, '[REDACTED]');
          }
        }

        if (violations.length > 0) {
          core.warning(`âš ï¸ Security violations detected and sanitized: ${violations.join(', ')}`);
        } else {
          core.info('âœ… Security scan passed â€” no violations detected');
        }

        core.setOutput('sanitized', payload);
        core.setOutput('cleared', 'true');
```

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

# JOB 2: SYNTHEXIT OPS ROUTER â€” Intelligent payload routing

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

route:
name: ğŸ¯ SYNTHEXIT OPS Router
needs: security-gate
if: |
needs.security-gate.outputs.cleared == â€˜trueâ€™ &&
(github.event_name == â€˜repository_dispatchâ€™ || github.event_name == â€˜workflow_dispatchâ€™)
runs-on: ubuntu-latest
permissions:
issues: write
contents: read
outputs:
issue_number: ${{ steps.router.outputs.issue_number }}
route_type: ${{ steps.router.outputs.route_type }}
steps:
- name: SYNTHEXIT Router Initialization
run: |
echo â€œâš¡ SYNTHEXIT ULTRON-SNAKE ROUTER ACTIVATEDâ€
echo â€œSecurity: CLEAREDâ€
echo â€œMode: ${{ github.event.inputs.mode || â€˜standardâ€™ }}â€

```
  - name: Route Payload to Destination
    id: router
    uses: actions/github-script@v7
    with:
      script: |
        // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        // SYNTHEXIT ULTRON-SNAKE ROUTER
        // Silent. Precise. Inevitable.
        // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

        // â”€â”€ Payload Resolution â”€â”€
        let payload;
        if (context.payload.client_payload) {
          payload = context.payload.client_payload;
        } else if (context.payload.inputs?.payload) {
          try {
            payload = JSON.parse(context.payload.inputs.payload);
          } catch (e) {
            core.setFailed('âŒ Payload parse error: Invalid JSON');
            return;
          }
        } else {
          core.setFailed('âŒ No payload detected');
          return;
        }

        // â”€â”€ Execution Mode â”€â”€
        const mode = context.payload.inputs?.mode || payload.mode || 'standard';
        const stealth = mode === 'stealth' || mode === 'ultron';

        if (!stealth) {
          console.log('â”€â”€ PAYLOAD ANALYSIS â”€â”€');
          console.log('Route:    ', payload.route);
          console.log('Priority: ', payload.priority);
          console.log('Title:    ', payload.issue_title);
        }

        // â”€â”€ Data Sanitization â”€â”€
        const sanitize = (str) => {
          if (!str || typeof str !== 'string') return str;
          return str
            .replace(/github_pat_[A-Za-z0-9_-]*/g, '[REDACTED-TOKEN]')
            .replace(/gh[ps]_[A-Za-z0-9]*/g, '[REDACTED-TOKEN]')
            .replace(/\b\d{3}-\d{2}-\d{4}\b/g, '[REDACTED-SSN]')
            .replace(/(?:password|secret|api[_-]?key)[:\s]*['"]?[^\s'"]+/gi, '[REDACTED-CREDENTIAL]');
        };

        const title = sanitize(payload.issue_title) || 'âš¡ SYNTHEXIT â€” Untitled Event';
        const body  = sanitize(payload.issue_body_markdown) || '_No body content provided._';
        let labels  = Array.isArray(payload.labels) ? payload.labels : [];

        // â”€â”€ Priority Enhancement â”€â”€
        if (payload.priority && !labels.includes(payload.priority)) {
          labels.push(payload.priority);
        }

        // â”€â”€ Ultron Mode: Auto-label based on content analysis â”€â”€
        if (mode === 'ultron') {
          const contentLower = (title + ' ' + body).toLowerCase();
          if (contentLower.includes('discriminat') || contentLower.includes('eeoc')) labels.push('legal');
          if (contentLower.includes('evidence') || contentLower.includes('exhibit')) labels.push('evidence');
          if (contentLower.includes('timeline') || contentLower.includes('chronology')) labels.push('timeline');
          if (contentLower.includes('urgent') || contentLower.includes('immediate')) labels.push('urgent');
        }

        // â”€â”€ Label Color Map â”€â”€
        const labelColors = {
          handshake:  '7c3aed',
          evidence:   'e11d48',
          timeline:   '0891b2',
          legal:      '1d4ed8',
          automation: '16a34a',
          ultron:     'ff6b35',
          snake:      '2d3748',
          drive:      'f59e0b',
          gmail:      'dc2626',
          urgent:     'ff0000',
          P0:         'dc2626',
          P1:         'f97316',
          P2:         'eab308',
          P3:         '22c55e'
        };

        // â”€â”€ Ensure Labels Exist â”€â”€
        const { owner, repo } = context.repo;
        for (const label of [...new Set(labels)]) {
          try {
            await github.rest.issues.createLabel({
              owner, repo,
              name: label,
              color: labelColors[label] || '6b7280',
              description: `Auto-created by SYNTHEXIT ${mode.toUpperCase()}`
            });
          } catch (e) {
            // Label exists â€” silent continue
          }
        }

        // â”€â”€ Repo Target â”€â”€
        const repoFull = payload.repo || `${owner}/${repo}`;
        const [targetOwner, targetRepo] = repoFull.split('/');

        // â”€â”€ Route Decision â”€â”€
        let issueNumber;
        let routeType;

        try {
          if (payload.route === 'comment_issue' && payload.issue_number) {
            const comment = await github.rest.issues.createComment({
              owner: targetOwner,
              repo:  targetRepo,
              issue_number: Number(payload.issue_number),
              body
            });
            issueNumber = payload.issue_number;
            routeType = 'comment';
            if (!stealth) {
              console.log(`âœ… Commented on Issue #${issueNumber}`);
              console.log('URL:', comment.data.html_url);
            }
          } else {
            const issue = await github.rest.issues.create({
              owner: targetOwner,
              repo:  targetRepo,
              title: title.substring(0, 256),
              body,
              labels
            });
            issueNumber = issue.data.number;
            routeType = 'create';
            if (!stealth) {
              console.log(`âœ… Created Issue #${issueNumber}`);
              console.log('Title:', title.substring(0, 80));
              console.log('URL:', issue.data.html_url);
            }
          }

          core.setOutput('issue_number', issueNumber);
          core.setOutput('route_type', routeType);

          // â”€â”€ Ultron Mode: Auto-assign to timeline if applicable â”€â”€
          if (mode === 'ultron' && labels.includes('timeline')) {
            await github.rest.issues.addLabels({
              owner: targetOwner,
              repo: targetRepo,
              issue_number: issueNumber,
              labels: ['ironman3-pending']
            });
          }

        } catch (error) {
          core.setFailed(`âŒ Routing failed: ${error.message}`);
          throw error;
        }

  - name: Execution Summary
    if: success()
    run: |
      echo "ğŸ¯ Route completed successfully"
      echo "Issue: #${{ steps.router.outputs.issue_number }}"
      echo "Type: ${{ steps.router.outputs.route_type }}"
```

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

# JOB 3: EVIDENCE PROCESSOR â€” Auto-process evidence issues

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

evidence-processor:
name: ğŸ“ Evidence Processor
if: |
github.event_name == â€˜issuesâ€™ &&
contains(github.event.issue.labels.*.name, â€˜evidenceâ€™)
runs-on: ubuntu-latest
permissions:
issues: write
contents: write
steps:
- uses: actions/checkout@v4

```
  - name: Generate Evidence ID
    id: evidence-id
    run: |
      DATE=$(date +'%Y%m%d')
      ISSUE_NUM=${{ github.event.issue.number }}
      EV_ID="EV-${DATE}-${ISSUE_NUM}"
      echo "evidence_id=${EV_ID}" >> $GITHUB_OUTPUT
      echo "ğŸ“‹ Generated Evidence ID: ${EV_ID}"

  - name: Create Evidence Directory
    run: |
      EV_ID="${{ steps.evidence-id.outputs.evidence_id }}"
      mkdir -p "evidence/${EV_ID}"
      echo "# Evidence: ${EV_ID}" > "evidence/${EV_ID}/README.md"
      echo "Created: $(date -Iseconds)" >> "evidence/${EV_ID}/README.md"
      echo "Issue: #${{ github.event.issue.number }}" >> "evidence/${EV_ID}/README.md"
      echo "Title: ${{ github.event.issue.title }}" >> "evidence/${EV_ID}/README.md"

  - name: Update Issue with Evidence ID
    uses: actions/github-script@v7
    with:
      script: |
        const evId = '${{ steps.evidence-id.outputs.evidence_id }}';
        const body = context.payload.issue.body || '';
        
        const updatedBody = `**Evidence ID:** \`${evId}\`\n**Directory:** \`evidence/${evId}/\`\n\n---\n\n${body}`;
        
        await github.rest.issues.update({
          owner: context.repo.owner,
          repo: context.repo.repo,
          issue_number: context.issue.number,
          body: updatedBody
        });

        await github.rest.issues.createComment({
          owner: context.repo.owner,
          repo: context.repo.repo,
          issue_number: context.issue.number,
          body: `ğŸ¤– **Evidence Processing Complete**\n\nâœ… Evidence ID assigned: \`${evId}\`\nâœ… Directory created: \`evidence/${evId}/\`\n\nUpload files to this directory to maintain chain of custody.`
        });

  - name: Commit Evidence Structure
    run: |
      git config user.name "SYNTHEXIT-BOT"
      git config user.email "synthexit@noreply.github.com"
      git add evidence/
      git commit -m "ğŸ”’ Evidence: ${{ steps.evidence-id.outputs.evidence_id }} â€” Issue #${{ github.event.issue.number }}" || echo "No changes to commit"
      git push
```

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

# JOB 4: BUILD ARTIFACTS â€” Generate provenance subjects

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

build:
name: ğŸ”¨ Build Artifacts
if: |
github.event_name == â€˜releaseâ€™ ||
github.event_name == â€˜workflow_dispatchâ€™ ||
(github.event_name == â€˜pushâ€™ && github.ref == â€˜refs/heads/mainâ€™)
runs-on: ubuntu-latest
permissions:
contents: read
outputs:
digests: ${{ steps.hash.outputs.digests }}
artifacts: ${{ steps.list.outputs.artifacts }}
steps:
- uses: actions/checkout@v4
with:
fetch-depth: 0

```
  - name: Build Repository Snapshot
    run: |
      echo "ğŸ“¦ Building repository snapshot..."
      tar --exclude='.git' \
          --exclude='node_modules' \
          --exclude='.github' \
          -czf synthexit-snapshot.tar.gz .
      ls -lh synthexit-snapshot.tar.gz

  - name: Build Evidence Archive
    run: |
      if [ -d "evidence" ]; then
        echo "ğŸ—„ï¸ Archiving evidence directory..."
        tar -czf synthexit-evidence.tar.gz evidence/
        ls -lh synthexit-evidence.tar.gz
      else
        echo "âš ï¸ No evidence directory found, skipping..."
      fi

  - name: Build Site (if Jekyll)
    run: |
      if [ -f "_config.yml" ]; then
        echo "ğŸŒ Building Jekyll site..."
        # Add Jekyll build here if needed
        echo "Jekyll build placeholder"
      fi

  - name: List Artifacts
    id: list
    run: |
      artifacts=$(ls -1 *.tar.gz 2>/dev/null || echo "")
      echo "artifacts=${artifacts}" >> $GITHUB_OUTPUT
      echo "ğŸ“‹ Artifacts created:"
      echo "${artifacts}"

  - name: Generate SHA-256 Digests
    id: hash
    run: |
      files=$(ls -1 *.tar.gz 2>/dev/null || echo "")
      if [ -n "$files" ]; then
        digests=$(sha256sum $files | base64 -w0)
        echo "digests=${digests}" >> $GITHUB_OUTPUT
        echo "ğŸ” Digests generated for SLSA provenance"
      else
        echo "âš ï¸ No artifacts to hash"
        echo "digests=" >> $GITHUB_OUTPUT
      fi

  - name: Upload Artifacts
    uses: actions/upload-artifact@v4
    with:
      name: synthexit-artifacts
      path: "*.tar.gz"
      retention-days: 90
```

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

# JOB 5: SLSA3 PROVENANCE â€” Generate cryptographic attestation

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

provenance:
name: ğŸ›¡ï¸ SLSA Level 3 Provenance
needs: [build]
if: needs.build.outputs.digests != â€˜â€™
permissions:
actions: read
id-token: write
contents: write
uses: slsa-framework/slsa-github-generator/.github/workflows/generator_generic_slsa3.yml@v1.10.0
with:
base64-subjects: â€œ${{ needs.build.outputs.digests }}â€
upload-assets: true
provenance-name: â€œsynthexit-provenance.intoto.jsonlâ€

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

# JOB 6: SNAKE MODE â€” Silent monitoring & pattern detection

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

snake-monitor:
name: ğŸ Snake Mode Monitor
if: |
github.event.inputs.mode == â€˜stealthâ€™ ||
github.event.inputs.mode == â€˜ultronâ€™ ||
github.event_name == â€˜pushâ€™
runs-on: ubuntu-latest
permissions:
contents: read
issues: write
steps:
- uses: actions/checkout@v4

```
  - name: Analyze Commit Patterns
    uses: actions/github-script@v7
    with:
      script: |
        // â”€â”€ SNAKE MODE: Silent Pattern Detection â”€â”€
        const commits = context.payload.commits || [];
        
        const patterns = {
          evidence: /evidence|exhibit|proof|document/i,
          legal: /eeoc|mdcr|complaint|charge|grievance/i,
          timeline: /timeline|chronology|sequence|event/i,
          urgent: /urgent|immediate|emergency|critical/i
        };

        let detections = [];
        
        for (const commit of commits) {
          const message = commit.message.toLowerCase();
          for (const [type, pattern] of Object.entries(patterns)) {
            if (pattern.test(message)) {
              detections.push({
                type,
                sha: commit.id.substring(0, 7),
                message: commit.message.substring(0, 60)
              });
            }
          }
        }

        if (detections.length > 0) {
          console.log('ğŸ Pattern detections:', detections.length);
          core.setOutput('detections', JSON.stringify(detections));
        } else {
          console.log('ğŸ No patterns detected â€” silent mode');
        }

  - name: Snake Report (if patterns detected)
    if: steps.snake-monitor
    run: |
      echo "ğŸ SNAKE MODE REPORT"
      echo "Monitoring: ACTIVE"
      echo "Detection threshold: MET"
      echo "Action: LOGGED"
```

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

# JOB 7: NOTIFICATION HUB â€” Status updates

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

notify:
name: ğŸ“¢ Notification Hub
needs: [route, evidence-processor, build, provenance]
if: |
always() &&
(needs.route.result == â€˜successâ€™ || needs.evidence-processor.result == â€˜successâ€™)
runs-on: ubuntu-latest
permissions:
issues: write
steps:
- name: Post Success Notification
if: |
needs.route.result == â€˜successâ€™ &&
needs.route.outputs.issue_number
uses: actions/github-script@v7
with:
script: |
const issueNum = â€˜${{ needs.route.outputs.issue_number }}â€™;
const routeType = â€˜${{ needs.route.outputs.route_type }}â€™;
const provenanceSuccess = â€˜${{ needs.provenance.result }}â€™ === â€˜successâ€™;

```
        let status = 'âœ… **SYNTHEXIT Operations Complete**\n\n';
        status += `- Route: ${routeType}\n`;
        status += `- Issue: #${issueNum}\n`;
        
        if (provenanceSuccess) {
          status += '- SLSA3 Provenance: âœ… Generated\n';
        }
        
        status += '\n_Automated by SYNTHEXIT ULTRON-SNAKE_';

        await github.rest.issues.createComment({
          owner: context.repo.owner,
          repo: context.repo.repo,
          issue_number: Number(issueNum),
          body: status
        });

  - name: Workflow Summary
    run: |
      echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
      echo "  SYNTHEXIT ULTRON-SNAKE â€” EXECUTION COMPLETE"
      echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
      echo ""
      echo "ğŸ¯ Router: ${{ needs.route.result }}"
      echo "ğŸ“ Evidence: ${{ needs.evidence-processor.result }}"
      echo "ğŸ”¨ Build: ${{ needs.build.result }}"
      echo "ğŸ›¡ï¸ Provenance: ${{ needs.provenance.result }}"
      echo ""
      echo "The IT in I.T. â€” Operational."
```
Fix YAML syntax - remove duplicate on: keyword
