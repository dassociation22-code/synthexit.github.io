on:
  # External trigger via Make.com or API
  repository_dispatch:
    types: [synthexit_ops, ultron_dispatch, snake_mode]

  # Manual trigger with JSON payload
  workflow_dispatch:
    inputs:
      payload:
        description: "JSON payload for SYNTHEXIT OPS"
        required: true
        type: string
      mode:
        description: "Execution mode: standard, stealth, ultron"
        required: false
        type: choice
        default: standard
        options:
          - standard
          - stealth
          - ultron

  # Auto-provenance on Release
  release:
    types: [created, published]

  # Evidence processing trigger
  issues:
    types: [opened, labeled, edited]

  # Commit monitoring
  push:
    branches:
      - main
      - develop
      - "evidence/**"